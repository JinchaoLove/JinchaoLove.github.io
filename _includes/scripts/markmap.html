{% comment %} https://markmap.js.org/api/modules/markmap-autoloader.html {% endcomment %}
{% comment %} https://markmap.js.org/api/interfaces/markmap-view.IMarkmapOptions.html {% endcomment %}
<script type="text/javascript" defer>
  function removeChildBySelector(parent, selector) {
    const child = parent.querySelector(selector);
    if (child) {
      child.remove();
    }
  }

  function removeChildByTitle(parent, title) {
    const child = Array.from(parent.children).find(
      (el) => el.getAttribute('title') === title
    );
    if (child) {
      child.remove();
    }
  }

  window.markmap = {
    autoLoader: {
    toolbar: true,
    onReady: function() {
      // 等待 toolbar 渲染完成后再操作
      setTimeout(() => {
        const toolbar = document.querySelector('.mm-toolbar');
        if (!toolbar) return;

        removeChildBySelector(toolbar, '.mm-toolbar-brand');
        removeChildByTitle(toolbar, 'Toggle recursively');
        removeChildByTitle(toolbar, 'Toggle dark theme');
      }, 100); // 小延迟确保 DOM 已更新
    }
    }
  };
</script>
<script src="{{ site.data.origin[type].markmap.js | relative_url }}"></script>